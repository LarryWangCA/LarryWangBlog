---
layout: post
title: "个人代码训练营Day54-数学day01"
date: 2025-12-03 10:00:00 -0400
categories: 随笔
---

## Leetcode 66 加一
本质上是当前位不是9，直接++并返回结果；否则设为0接着循环。如果循环结束仍未返回，在开头设为1.（e.g. 9999 to 10000）。  

## Leetcode 172 Factorial Trailing Zeroes（反复练习）
传统直接思路不合适，因为阶乘后的数会很大(溢出)，即使uint64_t也无法保存。      
阶乘后的0由10的个数得到，而10由2和5相乘而来，本题转化为从1到n有多少对2和5.  
又因为2的数量肯定大于5的数量，所以只需要求5的数量即可。  
需要使用while循环，直到每一个数不能被5整除为止。  

## Leetcode 149 Max points on a line
纯暴力解法，两层for循环变量两个元素（两点即可确定一条直线），最内层的循环再次遍历每个点，如果共线了，res++。
判断三点共线的方法（基于斜率）：
(x_j - x_i)(y_k - y_i) = (x_k - x_i)(y_j - y_i)  
时间复杂度：O(n^3)  

优化解法：固定一个点，统计所有方向角度的出现次数。  
对于每个点 i，我们统计：  
其它点 j 相对于点 i 的方向（也就是线的角度）。  
如果多个点 j 对应的角度一样，说明它们都和 i 在同一条直线上。  
注意本题需要使用atan2函数：
```
使用普通 atan(dy/dx) 会产生问题：
	•	dx = 0 → 除零
	•	无法区分象限：
例如 dy/dx = 1 表示 45° 还是 225°？

atan2(dy, dx) 就能解决：
	1.	不会除零（内部处理）
	2.	返回的 θ 范围是 [-π, π]，方向唯一
	3.	不同象限区分清楚
例如 (1,1) 和 (-1,-1) 的角度不同，而用斜率=(dy/dx)=1 是无法区分的

所以角度变成 唯一标识一条直线方向的值。
```





